<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 620" font-family="Red Hat Display, Segoe UI, Arial, sans-serif">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#CC0000;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#FF9900;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>
  <!-- Background -->
  <rect width="900" height="620" rx="12" fill="#0F1117"/>
  <rect x="0" y="0" width="900" height="4" fill="url(#headerGrad)"/>
  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#FFF" font-size="16" font-weight="700">Deployment Architecture: vLLM on AWS Inferentia2 with Red Hat AI</text>

  <!-- LAYER 1: OpenShift Cluster -->
  <rect x="30" y="55" width="840" height="540" rx="10" fill="none" stroke="#EE0000" stroke-width="2" stroke-dasharray="8,4"/>
  <rect x="30" y="55" width="250" height="24" rx="6" fill="#EE0000"/>
  <text x="155" y="72" text-anchor="middle" fill="#FFF" font-size="11" font-weight="600">Red Hat OpenShift (ROSA HCP)</text>

  <!-- LAYER 2: Operator Namespace -->
  <rect x="50" y="95" width="800" height="200" rx="8" fill="#1A1A2E" stroke="#333" stroke-width="1"/>
  <text x="70" y="115" fill="#AAA" font-size="11" font-weight="600">openshift-operators namespace</text>

  <!-- NFD Operator -->
  <rect x="70" y="130" width="160" height="80" rx="8" fill="#1E2A3A" stroke="#3D7BCC" stroke-width="1.5" filter="url(#shadow)"/>
  <circle cx="90" cy="150" r="10" fill="#3D7BCC" opacity="0.3"/>
  <text x="90" y="155" text-anchor="middle" fill="#3D7BCC" font-size="12">1</text>
  <text x="155" y="155" text-anchor="middle" fill="#7DB8F0" font-size="12" font-weight="600">NFD Operator</text>
  <text x="150" y="175" text-anchor="middle" fill="#888" font-size="9">Detects Neuron PCI</text>
  <text x="150" y="190" text-anchor="middle" fill="#888" font-size="9">device on nodes</text>

  <!-- KMM Operator -->
  <rect x="250" y="130" width="160" height="80" rx="8" fill="#1E2A3A" stroke="#3D7BCC" stroke-width="1.5" filter="url(#shadow)"/>
  <circle cx="270" cy="150" r="10" fill="#3D7BCC" opacity="0.3"/>
  <text x="270" y="155" text-anchor="middle" fill="#3D7BCC" font-size="12">2</text>
  <text x="335" y="155" text-anchor="middle" fill="#7DB8F0" font-size="12" font-weight="600">KMM Operator</text>
  <text x="330" y="175" text-anchor="middle" fill="#888" font-size="9">Manages Neuron</text>
  <text x="330" y="190" text-anchor="middle" fill="#888" font-size="9">kernel modules</text>

  <!-- Neuron Operator -->
  <rect x="430" y="130" width="180" height="80" rx="8" fill="#1E2A3A" stroke="#FF9900" stroke-width="1.5" filter="url(#shadow)"/>
  <circle cx="450" cy="150" r="10" fill="#FF9900" opacity="0.3"/>
  <text x="450" y="155" text-anchor="middle" fill="#FF9900" font-size="12">3</text>
  <text x="525" y="155" text-anchor="middle" fill="#FFBB44" font-size="12" font-weight="600">AWS Neuron Operator</text>
  <text x="520" y="175" text-anchor="middle" fill="#888" font-size="9">Drivers, Device Plugin,</text>
  <text x="520" y="190" text-anchor="middle" fill="#888" font-size="9">Scheduler, Telemetry</text>

  <!-- DeviceConfig -->
  <rect x="630" y="130" width="200" height="80" rx="8" fill="#1E2A3A" stroke="#FF9900" stroke-width="1.5" filter="url(#shadow)"/>
  <circle cx="650" cy="150" r="10" fill="#FF9900" opacity="0.3"/>
  <text x="650" y="155" text-anchor="middle" fill="#FF9900" font-size="12">4</text>
  <text x="735" y="155" text-anchor="middle" fill="#FFBB44" font-size="12" font-weight="600">DeviceConfig CR</text>
  <text x="730" y="175" text-anchor="middle" fill="#888" font-size="9">Single CR that triggers</text>
  <text x="730" y="190" text-anchor="middle" fill="#888" font-size="9">all Neuron components</text>

  <!-- Arrows between operators -->
  <path d="M230 170 L250 170" fill="none" stroke="#555" stroke-width="1.5" marker-end="url(#arrowhead)"/>
  <path d="M410 170 L430 170" fill="none" stroke="#555" stroke-width="1.5"/>
  <path d="M610 170 L630 170" fill="none" stroke="#555" stroke-width="1.5"/>

  <!-- Arrow down to worker node -->
  <path d="M450 210 L450 230 L350 230 L350 310" fill="none" stroke="#FF9900" stroke-width="1.5" stroke-dasharray="4,3"/>

  <!-- LAYER 3: Inferentia Worker Node -->
  <rect x="50" y="310" width="370" height="130" rx="8" fill="#1A2A1A" stroke="#4CAF50" stroke-width="1.5"/>
  <text x="70" y="335" fill="#4CAF50" font-size="11" font-weight="600">Inferentia2 Worker Node (e.g. inf2.xlarge)</text>

  <!-- Sub-components on node -->
  <rect x="70" y="350" width="100" height="40" rx="4" fill="#2A3A2A" stroke="#4CAF50" stroke-width="1"/>
  <text x="120" y="368" text-anchor="middle" fill="#81C784" font-size="9" font-weight="500">Neuron Driver</text>
  <text x="120" y="380" text-anchor="middle" fill="#666" font-size="8">(via KMM)</text>

  <rect x="180" y="350" width="100" height="40" rx="4" fill="#2A3A2A" stroke="#4CAF50" stroke-width="1"/>
  <text x="230" y="368" text-anchor="middle" fill="#81C784" font-size="9" font-weight="500">Device Plugin</text>
  <text x="230" y="380" text-anchor="middle" fill="#666" font-size="8">neuroncore resource</text>

  <rect x="290" y="350" width="110" height="40" rx="4" fill="#2A3A2A" stroke="#4CAF50" stroke-width="1"/>
  <text x="345" y="368" text-anchor="middle" fill="#81C784" font-size="9" font-weight="500">Neuron Scheduler</text>
  <text x="345" y="380" text-anchor="middle" fill="#666" font-size="8">topology-aware</text>

  <!-- Chip icon -->
  <rect x="70" y="400" width="330" height="25" rx="4" fill="#33442A" stroke="#4CAF50" stroke-width="0.5"/>
  <text x="235" y="417" text-anchor="middle" fill="#81C784" font-size="10">NeuronCore-v2 × 2  |  32 GB HBM  |  aws.amazon.com/neuroncore: 2</text>

  <!-- LAYER 4: Application Layer -->
  <rect x="450" y="310" width="390" height="265" rx="8" fill="#1A1A2E" stroke="#7C4DFF" stroke-width="1.5"/>
  <text x="470" y="335" fill="#B39DDB" font-size="11" font-weight="600">Application Layer (inference namespace)</text>

  <!-- Model PVC -->
  <rect x="470" y="350" width="150" height="65" rx="6" fill="#2A2040" stroke="#7C4DFF" stroke-width="1" filter="url(#shadow)"/>
  <circle cx="490" cy="370" r="10" fill="#7C4DFF" opacity="0.3"/>
  <text x="490" y="375" text-anchor="middle" fill="#7C4DFF" font-size="12">5</text>
  <text x="550" y="372" text-anchor="middle" fill="#CE93D8" font-size="11" font-weight="600">Model PVC</text>
  <text x="545" y="390" text-anchor="middle" fill="#888" font-size="9">HuggingFace model</text>
  <text x="545" y="403" text-anchor="middle" fill="#888" font-size="9">weights on EBS (30Gi)</text>

  <!-- vLLM Deployment -->
  <rect x="470" y="430" width="350" height="65" rx="6" fill="#2A2040" stroke="#FF9900" stroke-width="1.5" filter="url(#shadow)"/>
  <circle cx="490" cy="450" r="10" fill="#FF9900" opacity="0.3"/>
  <text x="490" y="455" text-anchor="middle" fill="#FF9900" font-size="12">6</text>
  <text x="650" y="453" text-anchor="middle" fill="#FFBB44" font-size="12" font-weight="600">vLLM Neuron Deployment</text>
  <text x="645" y="473" text-anchor="middle" fill="#888" font-size="9">pytorch-inference-vllm-neuronx:0.13.0 · OpenAI-compatible API · --tensor-parallel-size=2</text>
  <text x="645" y="486" text-anchor="middle" fill="#888" font-size="9">Continuous batching · --block-size=8 · --max-model-len=2048</text>

  <!-- Service + Route -->
  <rect x="470" y="510" width="350" height="50" rx="6" fill="#2A2040" stroke="#00BCD4" stroke-width="1" filter="url(#shadow)"/>
  <circle cx="490" cy="530" r="10" fill="#00BCD4" opacity="0.3"/>
  <text x="490" y="535" text-anchor="middle" fill="#00BCD4" font-size="12">7</text>
  <text x="650" y="530" text-anchor="middle" fill="#4DD0E1" font-size="11" font-weight="600">Service (ClusterIP:8080) + Route (HTTPS edge TLS)</text>
  <text x="645" y="548" text-anchor="middle" fill="#888" font-size="9">External endpoint: https://&lt;route&gt;/v1/chat/completions</text>

  <!-- HardwareProfile -->
  <rect x="640" y="350" width="180" height="65" rx="6" fill="#2A2040" stroke="#EE0000" stroke-width="1" filter="url(#shadow)"/>
  <text x="730" y="372" text-anchor="middle" fill="#EE6666" font-size="11" font-weight="600">HardwareProfile</text>
  <text x="730" y="390" text-anchor="middle" fill="#888" font-size="9">OpenShift AI dashboard</text>
  <text x="730" y="403" text-anchor="middle" fill="#888" font-size="9">integration (optional)</text>

  <!-- Connection arrows -->
  <path d="M545 415 L545 430" fill="none" stroke="#7C4DFF" stroke-width="1" stroke-dasharray="3,2"/>
  <path d="M645 495 L645 510" fill="none" stroke="#666" stroke-width="1"/>

  <!-- Connection from worker to vLLM -->
  <path d="M420 400 L460 465" fill="none" stroke="#4CAF50" stroke-width="1.5" stroke-dasharray="4,3"/>
  <text x="430" y="430" fill="#666" font-size="8" transform="rotate(30 430 430)">neuroncore</text>

  <!-- Legend -->
  <rect x="50" y="465" width="370" height="105" rx="6" fill="#151520"/>
  <text x="70" y="485" fill="#AAA" font-size="10" font-weight="600">Deployment Order</text>
  <circle cx="75" cy="500" r="7" fill="#3D7BCC" opacity="0.5"/><text x="75" y="504" text-anchor="middle" fill="#3D7BCC" font-size="8">1</text>
  <text x="90" y="504" fill="#888" font-size="9">NFD Rule → </text>
  <circle cx="155" cy="500" r="7" fill="#3D7BCC" opacity="0.5"/><text x="155" y="504" text-anchor="middle" fill="#3D7BCC" font-size="8">2</text>
  <text x="170" y="504" fill="#888" font-size="9">KMM → </text>
  <circle cx="215" cy="500" r="7" fill="#FF9900" opacity="0.5"/><text x="215" y="504" text-anchor="middle" fill="#FF9900" font-size="8">3</text>
  <text x="230" y="504" fill="#888" font-size="9">Neuron Op → </text>
  <circle cx="305" cy="500" r="7" fill="#FF9900" opacity="0.5"/><text x="305" y="504" text-anchor="middle" fill="#FF9900" font-size="8">4</text>
  <text x="320" y="504" fill="#888" font-size="9">DeviceConfig</text>

  <circle cx="75" cy="520" r="7" fill="#7C4DFF" opacity="0.5"/><text x="75" y="524" text-anchor="middle" fill="#7C4DFF" font-size="8">5</text>
  <text x="90" y="524" fill="#888" font-size="9">PVC + Model → </text>
  <circle cx="185" cy="520" r="7" fill="#FF9900" opacity="0.5"/><text x="185" y="524" text-anchor="middle" fill="#FF9900" font-size="8">6</text>
  <text x="200" y="524" fill="#888" font-size="9">vLLM Deploy → </text>
  <circle cx="295" cy="520" r="7" fill="#00BCD4" opacity="0.5"/><text x="295" y="524" text-anchor="middle" fill="#00BCD4" font-size="8">7</text>
  <text x="310" y="524" fill="#888" font-size="9">Service + Route</text>

  <rect x="70" y="540" width="10" height="10" rx="2" fill="none" stroke="#EE0000" stroke-width="1.5"/><text x="88" y="549" fill="#888" font-size="9">Red Hat OpenShift</text>
  <rect x="190" y="540" width="10" height="10" rx="2" fill="none" stroke="#FF9900" stroke-width="1.5"/><text x="208" y="549" fill="#888" font-size="9">AWS Neuron</text>
  <rect x="290" y="540" width="10" height="10" rx="2" fill="none" stroke="#4CAF50" stroke-width="1.5"/><text x="308" y="549" fill="#888" font-size="9">Hardware</text>
</svg>
